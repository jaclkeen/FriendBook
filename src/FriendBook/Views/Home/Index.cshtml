@model FriendBook.ViewModels.HomePageViewModel

<div class="notificationArea hidden">
    @foreach (var fr in Model.FriendRequests)
    {
        <div class="FR">
            @if (fr.SenderUser.ProfileImg == null)
            {
                <img class="notificationProfileImg" src="~/images/egg.png" />
            }
            else
            {
                <img class="notificationProfileImg" src="fr.SenderUser.ProfileImg" />
            }

            @if (fr.Status == 0)
            {
                <div class="receivedFR">
                    <p>
                        @Html.DisplayFor(modelItem => fr.SenderUser.FirstName) @Html.DisplayFor(modelItem => fr.SenderUser.LastName)
                        sent you a friend request!
                    </p>
                </div>
            }
            <div class="frButtonDiv">
                <input type="button" class="btn-success frButton acceptFR" id="@fr.RelationshipId" value="Accept" />
                <input type="button" class="btn-danger frButton declineFR" id="@fr.RelationshipId" value="Decline" />
            </div>
        </div>
    }
</div>

<div class="colorContainer">
    <div class="row">
        <h2>Home</h2>
        <div class="col-md-12">
            <form asp-action="NewStatus">
                <textarea asp-for="@Model.Post.Text" class="newStatus"></textarea>
                <input type="submit" class="submitStatus" value="Submit" />
            </form>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            @foreach (var s in Model.Posts)
            {
                <div class="post">
                    <p>
                        <a asp-action="Profile" asp-controller="Profile" asp-route-id="@s.UserId"><span>@Html.DisplayFor(modelItem => s.User.FirstName) @Html.DisplayFor(modelItem => s.User.LastName)</span></a>:
                        <span>@Html.DisplayFor(modelItem => s.Text)</span>
                    </p>
                    <div>
                        <a asp-action="AddLike" asp-route-id="@s.PostId"><span>Likes: @Html.DisplayFor(modelItem => s.Likes)</span></a>
                        <a asp-action="AddDislike" asp-route-id="@s.PostId"><span>Dislikes: @Html.DisplayFor(modelItem => s.Dislikes)</span></a>
                        @if (s.UserId == Model.CurrentUser.UserId)
                        {
                            <a asp-action="DeletePost" asp-route-id="@s.PostId"><span>Delete</span></a>
                        }
                    </div>
                </div>
            }
        </div>
    </div>

    <hr />
    <footer>
        <p>&copy; 2016 - FriendBook</p>
    </footer>

</div>