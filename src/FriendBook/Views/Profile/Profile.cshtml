@model FriendBook.ViewModels.UserProfileViewModel

<div class="colorContainer">
    <div class="row profileHead">

        @if (Model.UserProfile.UserId == Model.CurrentUser.UserId)
        {
            <form class="changeBannerImg" asp-controller="Profile" asp-action="UploadCoverImg" enctype="multipart/form-data">
                <label for="profileBannerUpload" class="profileBannerUploadLabel">
                    <img class="profileBannerImg" src="@Model.UserProfile.CoverImg" />
                    <input type="file" name="file" id="profileBannerUpload" class="profileBannerUpload" />
                </label>
            </form>

            <form class="changeProfileImg" asp-controller="Profile" asp-action="UploadImg" enctype="multipart/form-data">
                <label for="profileImgUpload" class="profileImgUploadLabel">
                    <img class="profileHeadImg" src="@Model.UserProfile.ProfileImg" />
                    <input type="file" name="file" id="profileImgUpload" class="profileImgUpload" />
                </label>                    
            </form>
        }
        else
        {
            <form class="changeBannerImg">
                <label for="profileBannerUpload" class="profileBannerUploadLabel">
                    <img class="notYourProfileBannerImg" src="@Model.UserProfile.CoverImg" />
                    <input id="profileBannerUpload" class="profileBannerUpload" />
                </label>
            </form>

            <form class="changeProfileImg">
                <label for="profileImgUpload" class="profileImgUploadLabel">
                    <img class="notYourProfileHeadImg" src="@Model.UserProfile.ProfileImg" />
                    <input id="profileImgUpload" class="profileImgUpload" />
                </label>
            </form>
        }

        <h1 class="profileHeadName">@Model.UserProfile.FirstName @Model.UserProfile.LastName</h1>
    </div>

    <div class="row profileNav">
        @if (Model.UserProfile.UserId == Model.CurrentUser.UserId)
        {
            <div class="navTab">
                <i class="fa fa-user-circle profileNavIcon"></i>
                <span class="pending profileNavItem">Me</span>
            </div>
        }
        @if (Model.AreFriends == "NoRelationship" || Model.AreFriends == "no")
        {
            <a asp-action="AddFriend" asp-controller="Profile" asp-route-id="@Model.UserProfile.UserId">
                <div class="navTab">
                    <i asp-action="AddFriend" asp-controller="Profile" asp-route-id="@Model.UserProfile.UserId" class="fa fa-user-plus profileNavIcon"></i>
                    <a class="addFriend profileNavItem" asp-action="AddFriend" asp-controller="Profile" asp-route-id="@Model.UserProfile.UserId"><span class="profileAddFriend">Add Friend!</span></a>
                </div>
            </a>
        }
        @if (Model.AreFriends == "Pending" && Model.UserProfile.UserId != Model.CurrentUser.UserId)
        {
            <div class="navTab">
                <i class="fa fa-user-o profileNavIcon"></i>
                <span class="pending profileNavItem">Pending</span>
            </div>
        }
        @if (Model.AreFriends == "yes")
        {
            <div class="navTab">
                <i class="fa fa-check-square profileNavIcon"></i>
                <span class="friends profileNavItem">Friends</span>
            </div>
        }

        <div class="navTab showPosts">
            <i class="fa fa-book profileNavIcon"></i>
            <span class="profileNavItem">Posts</span>
        </div>

        <div class="navTab showAlbums">
            <i class="fa fa-photo profileNavIcon"></i>
            <span class="profileNavItem">Photos</span>
        </div>

        <div class="navTab showFriends">
            <i class="fa fa-users profileNavIcon"></i>
            <span class="profileNavItem">Friends</span>
        </div>

        @if (Model.UserProfile.UserId == Model.CurrentUser.UserId)
        {
            <div class="navTab">
                <a asp-controller="Profile" asp-action="Styling" asp-route-id="@Model.CurrentUser.UserId"><i class="fa fa-hand-peace-o profileNavIcon"></i></a>
                <a asp-controller="Profile" asp-action="Styling" asp-route-id="@Model.CurrentUser.UserId"><span class="updateStyling profileNavItem">Styling</span></a>
            </div>
        }
    </div>

    <div class="row posts">
        <i class="fa fa-book postIcon"></i>
        <h3 class="postHead">Posts (@Model.Posts.Count)</h3>
        <div class="col-md-12">
            @foreach (var s in Model.Posts)
            {
                <div class="post" id="@s.PostId">

                    <div class="postHeadDiv">
                        <div class="postProfileImg">
                            <img src="@s.User.ProfileImg" />
                        </div>

                        <div class="postUser">
                            <a asp-action="Profile" asp-controller="Profile" asp-route-id="@s.UserId"><span>@Html.DisplayFor(modelItem => s.User.FirstName) @Html.DisplayFor(modelItem => s.User.LastName)</span></a>
                        </div>

                        <div class="datePosted">
                            <span>@s.TimePosted</span>
                        </div>
                    </div>

                    @if (s.ImgUrl != null)
                    {
                        <div class="postImageDiv">
                            <img src="@s.ImgUrl" class="postImage" />
                        </div>
                    }

                    <div class="postTextDiv">
                        <span class="postText">@Html.DisplayFor(modelItem => s.Text)</span>
                    </div><hr />

                    @if (s.UserId == Model.CurrentUser.UserId)
                    {
                        <div class="deleteEditDiv">
                            <a class="deletePost" asp-action="DeletePost" asp-controller="Post" asp-route-id="@s.PostId"><span>Delete</span></a>
                            <a><span id="@s.PostId" class="EditPost">Edit</span></a>
                        </div>
                    }

                    <div class="LikeDislikeCommentDiv">
                        <a asp-action="AddProfileLike" asp-controller="Post" asp-route-id="@s.PostId" class="addSpaceRight like"><i class="fa fa-thumbs-up statusIcon"></i>(@Html.DisplayFor(modelItem => s.Likes))</a>
                        <a asp-action="AddProfileDislike" asp-controller="Post" asp-route-id="@s.PostId" class="addSpaceRight dislike"><i class="fa fa-thumbs-down statusIcon"></i>(@Html.DisplayFor(modelItem => s.Dislikes))</a>
                        <span class="comments addSpaceRight"><i class="fa fa-comments statusIcon CSI"></i>(@s.Comments.Count)</span>
                    </div><hr />

                    <div class="CommentArea hidden">
                        @if (s.Comments != null)
                        {
                            @foreach (var c in s.Comments)
                            {
                                <div class="comment" id="@c.CommentId">
                                    <img src="@c.User.ProfileImg" />
                                    <a asp-action="Profile" asp-controller="Profile" asp-route-id="@c.UserId"><span>@c.User.FirstName @c.User.LastName</span></a>
                                    <p>@c.Text</p>
                                    @if (c.UserId == Model.CurrentUser.UserId)
                                    {
                                        <div class="EditOrDeleteComment">
                                            <a class="DeleteComment">Delete</a>
                                            <a class="EditComment">Edit</a>
                                        </div>
                                    }
                                </div><hr />
                            }
                        }
                    </div>

                    <textarea class="AddNewComment" placeholder="Add Comment..."></textarea>
                    <input type="button" class="btn-success submitComment" value="Comment" />

                </div>
            }
        </div>
    </div>

    <div class="row friendDiv">
        <i class="fa fa-users friendIcon" aria-hidden="true"></i>
        <h3 class="friendHead">Friends (@Model.Friends.Count)</h3>
        <div class="col-md-12 friendArea">
            @foreach (var f in Model.Friends)
            {
                <div class="actualFriend">
                    <div class="friendImg">
                        <img class="friendHeadImg" src="@f.ProfileImg" />
                    </div>

                    <div class="friendName">
                        <a asp-action="Profile" asp-route-id="@f.UserId" class="aFriendName"><h3>@Html.DisplayFor(modelItem => f.FirstName) @Html.DisplayFor(modelItem => f.LastName)</h3></a>
                    </div>

                    <div class="friendFriends">
                        <h4 class="friendFriendsNumber">(futurefriendcount)</h4>
                    </div>
                </div>
            }
        </div>
    </div>

    <div class="row imagesDiv">
        <i class="fa fa-photo friendIcon"></i>
        <h3 class="friendHead">Albums</h3>
        <i class="fa fa-plus-circle addAlbum"></i>   
        
        <div class="createNewAlbum hidden">
            <h3>Create New Album</h3>

            <form>
                <div class="form-horizontal">
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Album Name: </label>
                        <div class="col-md-8">
                            <input type="text" class="form-control albumNameInput" />
                            <span class="albumNameValidation"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">Description: </label>
                        <div class="col-md-8">
                            <input type="text" class="form-control albumDescription" />
                            <span class="albumDescriptionValidation"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-offset-4 col-md-8">
                            <input type="button" value="Create Album" class="btn btn-default createAlbum" />
                        </div>
                    </div>
                </div>
            </form>

        </div> 
        
        <div class="albumShowArea">
            @foreach (var a in Model.UserAlbums)
            {
                <div class="ImageArea" id="@a.AlbumId">
                    <h3 class="albumName">@a.AlbumName</h3>
                    @if (a.AlbumImages != null)
                    {
                        <img src="@a.AlbumImages[0].ImagePath" class="albumImg" />
                    }
                    else
                    {
                        <img src="~/images/egg.png" class="albumImg" />
                    }
                </div>
            }
        </div>

        @*<div class="SelectedAlbumDetailsArea hidden">
            <i class="fa fa-arrow-left addimg BackToAlbums">  </i><span class="BackToAlbums backSpan">   Back</span>

            <div class="albumDetailDiv">
                <h2 class="SelectedAlbumName"></h2>
                
                <div class="formArea">
                    <form asp-action="AddImageToAlbum" asp-controller="Album" class="AddImageToAlbum" enctype="multipart/form-data">
                        <label for="AddIToA">
                            <i class="fa fa-plus-square-o addimg"></i>
                        </label>
                        <input type="file" id="AddIToA" name="file" class="hidden AddIToA" />
                    </form>
                </div>

                <p class="selectedAlbumDescription"></p>
            </div>

            <div class="SelectedAlbumImages">

            </div>
        </div>*@

    </div>
</div>
